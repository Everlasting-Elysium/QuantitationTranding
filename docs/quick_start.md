# 快速开始指南 (Quick Start Guide)

欢迎使用量化交易系统！本指南将帮助你在5分钟内完成系统安装并运行第一个模型训练。

## 📋 前置要求

在开始之前，请确保你的系统满足以下要求：

- **操作系统**: Windows 10+, macOS 10.14+, 或 Linux
- **Python版本**: Python 3.8 或更高版本
- **内存**: 至少 16GB RAM（推荐）
- **磁盘空间**: 至少 5GB 可用空间
- **网络**: 稳定的互联网连接（用于下载数据）

### 检查Python版本

打开终端（Windows用户使用命令提示符或PowerShell），运行：

```bash
python --version
```

如果显示 `Python 3.8.x` 或更高版本，说明满足要求。

## 🚀 一键安装（推荐）

我们提供了自动化安装脚本，可以一键完成所有配置。

### Linux/Mac用户

```bash
# 1. 进入项目目录
cd Code/QuantitationTranding

# 2. 给脚本添加执行权限
chmod +x quick_start.sh

# 3. 运行快速启动脚本
./quick_start.sh
```

### Windows用户

```cmd
# 1. 进入项目目录
cd Code\QuantitationTranding

# 2. 运行快速启动脚本
quick_start.bat
```

### 使用Python脚本（跨平台）

```bash
# 适用于所有操作系统
python init_system.py
```

## 📦 安装过程说明

安装脚本会自动完成以下步骤：

### 步骤1: 检查环境

```
[1/6] 检查Python版本...
✓ Python 3.8.10 已安装
```

脚本会检查你的Python版本是否满足要求。

### 步骤2: 检查依赖包

```
[2/6] 检查依赖包...
✓ qlib 已安装
✓ mlflow 已安装
✗ pandas 未安装
```

脚本会检测所有必需的Python包，并列出缺失的包。

### 步骤3: 安装依赖

```
[3/6] 安装依赖包...
是否安装缺失的依赖包？(y/n): y
正在安装 pandas...
✓ pandas 安装成功
```

如果有缺失的包，脚本会询问是否安装。输入 `y` 确认安装。

### 步骤4: 创建目录结构

```
[4/6] 创建目录结构...
✓ 创建 data/ 目录
✓ 创建 logs/ 目录
✓ 创建 model_registry/ 目录
✓ 创建 outputs/ 目录
```

脚本会创建系统运行所需的所有目录。

### 步骤5: 下载数据

```
[5/6] 下载示例数据...
正在下载中国A股数据...
[████████████████████] 100%
✓ 数据下载完成 (约2-5分钟)
```

脚本会自动下载中国A股的示例数据。这一步可能需要几分钟，取决于你的网络速度。

### 步骤6: 验证安装

```
[6/6] 验证系统配置...
✓ Qlib初始化成功
✓ 数据可用性验证通过
✓ 配置文件加载成功
✓ 日志系统正常

🎉 系统初始化完成！
```

脚本会运行一系列测试，确保系统配置正确。

## 🎯 第一次使用

安装完成后，让我们运行第一个示例！

### 启动系统

```bash
python main.py
```

你会看到主菜单：

```
╔════════════════════════════════════════╗
║      量化交易系统 v1.0                  ║
║   Quantitative Trading System          ║
╚════════════════════════════════════════╝

=== 主菜单 ===
1. 训练模型
2. 运行回测
3. 生成交易信号
4. 管理模型
5. 数据管理
6. 查看帮助
7. 退出

请选择功能 (1-7): 
```

### 第一次训练模型

让我们选择 `1` 来训练第一个模型：

```
请选择功能 (1-7): 1

=== 模型训练 ===
1. 使用模板训练（推荐新手）
2. 自定义训练

请选择 (1-2): 1
```

选择 `1` 使用预配置的模板：

```
=== 可用模型模板 ===
1. LGBM模型 - 适合中短期预测，训练快速
2. Linear模型 - 适合因子分析，可解释性强
3. MLP神经网络 - 适合复杂模式，效果较好

请选择模板 (1-3): 1
```

选择 `1` 使用LGBM模型（推荐新手）：

```
正在使用LGBM模板训练模型...

[1/4] 加载数据...
✓ 数据加载完成 (2020-01-01 至 2023-12-31)

[2/4] 特征工程...
✓ 生成了 158 个特征

[3/4] 训练模型...
Epoch 1/100: loss=0.234
Epoch 50/100: loss=0.156
Epoch 100/100: loss=0.142
✓ 模型训练完成

[4/4] 评估模型...
训练集 IC: 0.085
验证集 IC: 0.078
✓ 模型评估完成

🎉 训练成功！
模型ID: lgbm_20240101_123456
模型已保存到: model_registry/lgbm_20240101_123456/
```

恭喜！你已经成功训练了第一个模型！

### 查看训练结果

训练完成后，系统会自动生成训练报告：

```
=== 训练报告 ===
模型类型: LightGBM
训练时间: 2024-01-01 12:34:56
训练耗时: 3分25秒

性能指标:
- 训练集 IC: 0.085
- 验证集 IC: 0.078
- 训练集准确率: 68.5%
- 验证集准确率: 65.2%

模型已注册到模型库
模型ID: lgbm_20240101_123456

查看详细报告: outputs/training_report_20240101_123456.html
```

你可以在浏览器中打开HTML报告查看详细的训练结果和可视化图表。

## 📊 运行回测

训练完模型后，让我们测试一下它的表现：

```
请选择功能 (1-7): 2

=== 回测分析 ===
请选择要回测的模型:
1. lgbm_20240101_123456 (刚刚训练的)
2. 输入模型ID

请选择 (1-2): 1

请输入回测开始日期 (YYYY-MM-DD) [2023-01-01]: 
请输入回测结束日期 (YYYY-MM-DD) [2023-12-31]: 

正在运行回测...

[1/3] 生成交易信号...
✓ 生成了 245 个交易日的信号

[2/3] 模拟交易...
✓ 执行了 1,234 笔交易

[3/3] 计算指标...
✓ 指标计算完成

=== 回测结果 ===
回测期间: 2023-01-01 至 2023-12-31

收益指标:
- 总收益率: 28.5%
- 年化收益率: 28.5%
- 基准收益率: 12.3% (沪深300)
- 超额收益: 16.2%

风险指标:
- 夏普比率: 1.65
- 最大回撤: -12.8%
- 波动率: 18.2%

交易统计:
- 总交易次数: 1,234
- 胜率: 62.5%
- 盈亏比: 1.8

详细报告已保存: outputs/backtest_report_20240101_123456.html
```

## 🎯 生成交易信号

现在让我们生成今天的交易建议：

```
请选择功能 (1-7): 3

=== 交易信号生成 ===
请选择模型:
1. lgbm_20240101_123456
2. 输入模型ID

请选择 (1-2): 1

正在生成交易信号...

=== 今日交易建议 (2024-01-01) ===

【买入建议】
1. 贵州茅台 (600519)
   - 预测得分: 0.85
   - 置信度: 高 (92%)
   - 建议仓位: 5%
   - 理由: 技术指标强势，基本面稳健

2. 宁德时代 (300750)
   - 预测得分: 0.78
   - 置信度: 中 (75%)
   - 建议仓位: 3%
   - 理由: 行业景气度高，成长性好

【卖出建议】
1. 某某股票 (000001)
   - 预测得分: -0.65
   - 置信度: 高 (88%)
   - 建议: 全部卖出
   - 理由: 技术指标走弱，风险增加

【持有建议】
当前持仓中的其他股票建议继续持有

风险提示:
⚠️ 市场波动较大，建议控制仓位
⚠️ 注意止损，单只股票亏损超过5%建议止损
```

## 🎓 下一步学习

恭喜你完成了快速开始！现在你可以：

1. **深入学习**: 阅读[用户手册](user_guide.md)了解所有功能
2. **查看示例**: 浏览 `examples/` 目录的完整示例
3. **自定义模型**: 尝试调整模型参数，优化性能
4. **实盘交易**: 了解如何将策略应用到实盘（谨慎！）

## 📚 常见问题

### Q1: 数据下载失败怎么办？

**A**: 数据下载可能因为网络问题失败。你可以：
1. 检查网络连接
2. 重新运行初始化脚本
3. 手动下载数据：
   ```bash
   python -m qlib.run.get_data qlib_data --target_dir ~/.qlib/qlib_data/cn_data --region cn
   ```

### Q2: 训练时内存不足怎么办？

**A**: 如果遇到内存不足：
1. 关闭其他占用内存的程序
2. 减少训练数据的时间范围
3. 使用更简单的模型（如Linear模型）

### Q3: 如何更新数据？

**A**: 在主菜单选择 `5. 数据管理`，然后选择 `1. 更新数据`。

### Q4: 模型训练需要多长时间？

**A**: 取决于模型类型和数据量：
- LGBM模型: 3-10分钟
- Linear模型: 1-3分钟
- MLP神经网络: 10-30分钟

### Q5: 可以使用GPU加速吗？

**A**: 可以！如果你有NVIDIA GPU：
1. 安装CUDA和cuDNN
2. 安装GPU版本的依赖：
   ```bash
   pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
   ```

### Q6: 如何查看MLflow实验记录？

**A**: 在项目目录运行：
```bash
mlflow ui
```
然后在浏览器打开 `http://localhost:5000`

## 🆘 获取帮助

如果遇到问题：

1. **查看日志**: 日志文件位于 `logs/qlib_trading.log`
2. **查看文档**: 阅读[用户手册](user_guide.md)和[API参考](api_reference.md)
3. **运行帮助**: 在主菜单选择 `6. 查看帮助`
4. **提交Issue**: 在GitHub上提交问题

## 📖 术语解释

### 基础术语

- **IC (Information Coefficient)**: 信息系数，衡量预测值和实际收益的相关性，范围-1到1，越接近1越好
- **夏普比率 (Sharpe Ratio)**: 衡量风险调整后的收益，通常大于1表示策略较好
- **最大回撤 (Max Drawdown)**: 从最高点到最低点的最大跌幅，用于衡量风险
- **年化收益率 (Annual Return)**: 将收益率换算成年化的数值，便于比较
- **基准 (Benchmark)**: 用于对比的指数，如沪深300、中证500等

### 模型相关

- **LGBM**: LightGBM，一种高效的梯度提升树模型
- **Linear**: 线性模型，简单但可解释性强
- **MLP**: 多层感知机，一种神经网络模型
- **特征工程 (Feature Engineering)**: 从原始数据中提取有用的特征
- **过拟合 (Overfitting)**: 模型在训练集上表现好，但在新数据上表现差

### 交易相关

- **做多 (Long)**: 买入股票，期待上涨
- **做空 (Short)**: 卖出股票，期待下跌（A股不支持）
- **仓位 (Position)**: 持有某只股票的比例
- **止损 (Stop Loss)**: 当亏损达到一定程度时自动卖出
- **换手率 (Turnover)**: 买卖的频繁程度

## 🎉 开始你的量化交易之旅！

现在你已经掌握了基础操作，可以开始探索更多功能了。记住：

- 📚 **持续学习**: 量化交易需要不断学习和实践
- 🧪 **充分测试**: 在实盘前一定要充分回测和模拟
- 💰 **风险控制**: 永远不要投入超过你能承受的资金
- 📊 **数据驱动**: 基于数据做决策，而不是情绪

祝你交易顺利！🚀📈
