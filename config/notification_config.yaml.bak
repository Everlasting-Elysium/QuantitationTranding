# Notification Configuration File / é€šçŸ¥é…ç½®æ–‡ä»¶
# ============================================================================
# 
# æ­¤æ–‡ä»¶å®šä¹‰äº†ç³»ç»Ÿçš„é€šçŸ¥æœåŠ¡é…ç½®ï¼ŒåŒ…æ‹¬é‚®ä»¶ã€çŸ­ä¿¡å’Œç³»ç»Ÿé€šçŸ¥
# This file defines the notification service configuration, including email, SMS, and system notifications
#
# é…ç½®è¯´æ˜ / Configuration Guide:
# - email: é‚®ä»¶é€šçŸ¥é…ç½®
# - sms: çŸ­ä¿¡é€šçŸ¥é…ç½®
# - system: ç³»ç»Ÿé€šçŸ¥é…ç½®
# - recipients: é€šçŸ¥æ¥æ”¶äººé…ç½®
# - triggers: é€šçŸ¥è§¦å‘æ¡ä»¶
# - templates: é€šçŸ¥å†…å®¹æ¨¡æ¿
#
# ç‰ˆæœ¬ / Version: 1.0
# æœ€åæ›´æ–° / Last Updated: 2024-12-07
# ============================================================================

# ============================================================================
# é‚®ä»¶é€šçŸ¥é…ç½® / Email Notification Configuration
# ============================================================================
email:
  # åŸºæœ¬é…ç½® / Basic Configuration
  enabled: false  # æ˜¯å¦å¯ç”¨é‚®ä»¶é€šçŸ¥ / Whether to enable email notification
  
  # SMTPæœåŠ¡å™¨é…ç½® / SMTP Server Configuration
  smtp:
    server: "smtp.example.com"  # SMTPæœåŠ¡å™¨åœ°å€ / SMTP server address
    port: 587  # SMTPæœåŠ¡å™¨ç«¯å£ / SMTP server port (587 for TLS, 465 for SSL, 25 for plain)
    use_tls: true  # æ˜¯å¦ä½¿ç”¨TLSåŠ å¯† / Whether to use TLS encryption
    use_ssl: false  # æ˜¯å¦ä½¿ç”¨SSLåŠ å¯† / Whether to use SSL encryption
    timeout: 30  # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰/ Connection timeout (seconds)
  
  # è®¤è¯ä¿¡æ¯ / Authentication
  auth:
    username: "your_email@example.com"  # é‚®ç®±ç”¨æˆ·å / Email username
    password: "your_password_or_app_token"  # é‚®ç®±å¯†ç æˆ–æˆæƒç  / Email password or authorization code
  
  # å‘ä»¶äººä¿¡æ¯ / Sender Information
  sender:
    email: "your_email@example.com"  # å‘ä»¶äººé‚®ç®±åœ°å€ / Sender email address
    name: "é‡åŒ–äº¤æ˜“ç³»ç»Ÿ"  # å‘ä»¶äººåç§° / Sender name
    name_en: "Quant Trading System"
  
  # é‚®ä»¶æ ¼å¼ / Email Format
  format:
    # é‚®ä»¶å†…å®¹ç±»å‹ / Email content type
    content_type: "html"  # html or plain
    
    # å­—ç¬¦ç¼–ç  / Character encoding
    charset: "utf-8"
    
    # æ˜¯å¦åŒ…å«é™„ä»¶ / Include attachments
    include_attachments: true
    
    # é™„ä»¶ç±»å‹ / Attachment types
    attachment_types:
      - "pdf"  # PDFæŠ¥å‘Š
      - "csv"  # CSVæ•°æ®
      - "xlsx"  # Excelè¡¨æ ¼
  
  # é‡è¯•é…ç½® / Retry Configuration
  retry:
    # æ˜¯å¦å¯ç”¨é‡è¯• / Enable retry
    enabled: true
    
    # æœ€å¤§é‡è¯•æ¬¡æ•° / Max retry attempts
    max_attempts: 3
    
    # é‡è¯•é—´éš”ï¼ˆç§’ï¼‰/ Retry interval (seconds)
    retry_interval: 60
    
    # æŒ‡æ•°é€€é¿ / Exponential backoff
    exponential_backoff: true
  
  # é€Ÿç‡é™åˆ¶ / Rate Limiting
  rate_limit:
    # æ˜¯å¦å¯ç”¨é€Ÿç‡é™åˆ¶ / Enable rate limiting
    enabled: true
    
    # æ¯å°æ—¶æœ€å¤§å‘é€æ•° / Max emails per hour
    max_per_hour: 50
    
    # æ¯å¤©æœ€å¤§å‘é€æ•° / Max emails per day
    max_per_day: 200
  
  # é‚®ä»¶ä¼˜å…ˆçº§ / Email Priority
  priority:
    # é»˜è®¤ä¼˜å…ˆçº§ / Default priority (1=highest, 3=normal, 5=lowest)
    default: 3
    
    # é£é™©é¢„è­¦ä¼˜å…ˆçº§ / Risk alert priority
    risk_alert: 1
    
    # æ—¥æŠ¥ä¼˜å…ˆçº§ / Daily report priority
    daily_report: 3

# ============================================================================
# çŸ­ä¿¡é€šçŸ¥é…ç½® / SMS Notification Configuration
# ============================================================================
sms:
  # åŸºæœ¬é…ç½® / Basic Configuration
  enabled: false  # æ˜¯å¦å¯ç”¨çŸ­ä¿¡é€šçŸ¥ / Whether to enable SMS notification
  
  # çŸ­ä¿¡æœåŠ¡å•†é…ç½® / SMS Provider Configuration
  provider:
    name: "aliyun"  # æœåŠ¡å•†åç§° / Provider name (aliyun, tencent, twilio, etc.)
    api_key: "your_sms_api_key"  # APIå¯†é’¥ / API key
    api_secret: "your_sms_api_secret"  # APIå¯†é’¥ / API secret
    api_url: "https://api.sms-provider.com/send"  # APIåœ°å€ / API URL
    region: "cn-hangzhou"  # æœåŠ¡åŒºåŸŸ / Service region
  
  # çŸ­ä¿¡ç­¾å / SMS Signature
  signature: "é‡åŒ–äº¤æ˜“ç³»ç»Ÿ"  # çŸ­ä¿¡ç­¾å / SMS signature
  
  # çŸ­ä¿¡æ¨¡æ¿ / SMS Templates
  templates:
    # é£é™©é¢„è­¦æ¨¡æ¿ / Risk alert template
    risk_alert:
      template_id: "SMS_123456789"
      params:
        - "alert_type"
        - "severity"
        - "message"
    
    # äº¤æ˜“é€šçŸ¥æ¨¡æ¿ / Trading notification template
    trading_notification:
      template_id: "SMS_987654321"
      params:
        - "action"
        - "symbol"
        - "quantity"
    
    # ç³»ç»Ÿé€šçŸ¥æ¨¡æ¿ / System notification template
    system_notification:
      template_id: "SMS_111222333"
      params:
        - "event"
        - "message"
  
  # é‡è¯•é…ç½® / Retry Configuration
  retry:
    enabled: true
    max_attempts: 3
    retry_interval: 30
  
  # é€Ÿç‡é™åˆ¶ / Rate Limiting
  rate_limit:
    enabled: true
    max_per_hour: 20  # æ¯å°æ—¶æœ€å¤§å‘é€æ•°
    max_per_day: 50  # æ¯å¤©æœ€å¤§å‘é€æ•°
  
  # å‘é€æ—¶é—´é™åˆ¶ / Send Time Restrictions
  time_restrictions:
    # æ˜¯å¦å¯ç”¨æ—¶é—´é™åˆ¶ / Enable time restrictions
    enabled: true
    
    # å…è®¸å‘é€çš„æ—¶é—´æ®µ / Allowed send time
    allowed_hours:
      start: "08:00"  # å¼€å§‹æ—¶é—´
      end: "22:00"  # ç»“æŸæ—¶é—´
    
    # ç´§æ€¥é€šçŸ¥å¯ä»¥çªç ´æ—¶é—´é™åˆ¶ / Emergency notifications can bypass time restrictions
    emergency_bypass: true

# ============================================================================
# ç³»ç»Ÿé€šçŸ¥é…ç½® / System Notification Configuration
# ============================================================================
system:
  # åŸºæœ¬é…ç½® / Basic Configuration
  enabled: true  # æ˜¯å¦å¯ç”¨ç³»ç»Ÿé€šçŸ¥ / Whether to enable system notification
  
  # é€šçŸ¥æ–¹å¼ / Notification Methods
  methods:
    # æ¡Œé¢é€šçŸ¥ / Desktop notification
    desktop:
      enabled: true
      duration: 5  # æ˜¾ç¤ºæ—¶é•¿ï¼ˆç§’ï¼‰/ Display duration (seconds)
      sound: true  # æ˜¯å¦æ’­æ”¾å£°éŸ³ / Play sound
    
    # æ§åˆ¶å°è¾“å‡º / Console output
    console:
      enabled: true
      color: true  # æ˜¯å¦ä½¿ç”¨å½©è‰²è¾“å‡º / Use colored output
    
    # æ—¥å¿—è®°å½• / Logging
    logging:
      enabled: true
      level: "INFO"  # æ—¥å¿—çº§åˆ« / Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
      file: "logs/notifications.log"  # æ—¥å¿—æ–‡ä»¶ / Log file
  
  # é€šçŸ¥çº§åˆ« / Notification Levels
  levels:
    info:
      icon: "â„¹ï¸"
      color: "blue"
      sound: false
    
    success:
      icon: "âœ…"
      color: "green"
      sound: false
    
    warning:
      icon: "âš ï¸"
      color: "yellow"
      sound: true
    
    error:
      icon: "âŒ"
      color: "red"
      sound: true
    
    critical:
      icon: "ğŸ”´"
      color: "red"
      sound: true

# ============================================================================
# é€šçŸ¥æ¥æ”¶äººé…ç½® / Notification Recipients Configuration
# ============================================================================
recipients:
  # æ¥æ”¶äººç»„ / Recipient Groups
  groups:
    # ç®¡ç†å‘˜ç»„ / Admin group
    admin:
      name: "ç®¡ç†å‘˜"
      name_en: "Administrators"
      emails:
        - "admin@example.com"
      phone_numbers:
        - "13800138000"
      notification_types:
        - "all"  # æ¥æ”¶æ‰€æœ‰ç±»å‹çš„é€šçŸ¥
    
    # äº¤æ˜“å‘˜ç»„ / Trader group
    traders:
      name: "äº¤æ˜“å‘˜"
      name_en: "Traders"
      emails:
        - "trader1@example.com"
        - "trader2@example.com"
      phone_numbers:
        - "13900139000"
      notification_types:
        - "daily_report"
        - "weekly_report"
        - "risk_alert"
        - "trading_notification"
    
    # é£æ§ç»„ / Risk management group
    risk_managers:
      name: "é£æ§"
      name_en: "Risk Managers"
      emails:
        - "risk@example.com"
      phone_numbers:
        - "13700137000"
      notification_types:
        - "risk_alert"
        - "daily_report"
    
    # å¼€å‘ç»„ / Developer group
    developers:
      name: "å¼€å‘"
      name_en: "Developers"
      emails:
        - "dev@example.com"
      notification_types:
        - "system_error"
        - "system_warning"
  
  # é»˜è®¤æ¥æ”¶äºº / Default recipients
  default:
    emails:
      - "default@example.com"
    phone_numbers:
      - "13600136000"

# é€šçŸ¥è§¦å‘æ¡ä»¶ / Notification Trigger Conditions
triggers:
  # æ¯æ—¥æŠ¥å‘Š / Daily Report
  daily_report:
    enabled: true
    time: "18:00"  # å‘é€æ—¶é—´ / Send time (24-hour format)
  
  # æ¯å‘¨æŠ¥å‘Š / Weekly Report
  weekly_report:
    enabled: true
    day: "Friday"  # å‘é€æ—¥æœŸ / Send day
    time: "18:00"
  
  # æ¯æœˆæŠ¥å‘Š / Monthly Report
  monthly_report:
    enabled: true
    day: 1  # æ¯æœˆç¬¬å‡ å¤© / Day of month
    time: "18:00"
  
  # é£é™©é¢„è­¦ / Risk Alert
  risk_alert:
    enabled: true
    # é¢„è­¦çº§åˆ« / Alert levels
    levels:
      - "warning"   # è­¦å‘Š / Warning
      - "critical"  # ä¸¥é‡ / Critical
    # é€šçŸ¥æ–¹å¼ / Notification methods
    methods:
      email: true
      sms: true  # ä¸¥é‡é¢„è­¦å»ºè®®å¯ç”¨çŸ­ä¿¡ / SMS recommended for critical alerts

# é€šçŸ¥å†…å®¹æ¨¡æ¿ / Notification Content Templates
templates:
  # æ¯æ—¥æŠ¥å‘Šä¸»é¢˜ / Daily report subject
  daily_report_subject: "ã€é‡åŒ–äº¤æ˜“ã€‘æ¯æ—¥äº¤æ˜“æŠ¥å‘Š - {date}"
  
  # æ¯å‘¨æŠ¥å‘Šä¸»é¢˜ / Weekly report subject
  weekly_report_subject: "ã€é‡åŒ–äº¤æ˜“ã€‘æ¯å‘¨äº¤æ˜“æŠ¥å‘Š - {week}"
  
  # æ¯æœˆæŠ¥å‘Šä¸»é¢˜ / Monthly report subject
  monthly_report_subject: "ã€é‡åŒ–äº¤æ˜“ã€‘æ¯æœˆäº¤æ˜“æŠ¥å‘Š - {month}"
  
  # é£é™©é¢„è­¦ä¸»é¢˜ / Risk alert subject
  risk_alert_subject: "ã€é£é™©é¢„è­¦ã€‘{alert_type} - {severity}"
